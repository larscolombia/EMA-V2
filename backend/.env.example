###############################
# Backend EMA - .env example  #
###############################

# MySQL connection
DB_USER=root
DB_PASSWORD=secret
DB_HOST=127.0.0.1
DB_PORT=3306
DB_NAME=ema_dev

# OpenAI (opcional para funcionalidades de IA)
OPENAI_API_KEY=sk-your-key
# Assistant IDs (opcionales). Si se dejan vacíos y hay OPENAI_API_KEY se usa fallback chat completions.
CHAT_PRINCIPAL_ASSISTANT=asst_xxxxx
CASOS_INTERACTIVOS_ASSISTANT=asst_xxxxx
CASOS_INTERACTIVOS_MAX_PREGUNTAS=4
CASOS_CLINICOS_INTERACTIVO=asst_xxxxx
CHAT_MODEL=gpt-4o-mini

# Timeouts configurables para casos clínicos interactivos (segundos) - habilitados por defecto
# Aumentados para dar tiempo al AI + validación con evidencia
# CLINICAL_INTERACTIVE_SOFT_TIMEOUT_SEC=25
# CLINICAL_INTERACTIVE_CHAT_SOFT_TIMEOUT_SEC=25

# Evidencia y referencias - HABILITADAS por defecto para evaluación crítica fundamentada
# RAG (Retrieval-Augmented Generation) con vector store + PubMed permite:
# 1. Validar respuestas incorrectas con base científica
# 2. Fundamentar evaluaciones con evidencia médica actualizada
# 3. Incluir referencias al final de retroalimentaciones
# Para DESHABILITAR, establecer: CLINICAL_APPEND_REFS=false
# Por defecto: habilitado (cualquier valor distinto de "false" lo activa)
CLINICAL_APPEND_REFS=true
# CLINICAL_INTERACTIVE_EVIDENCE_VALIDATION=false

# Puerto HTTP
PORT=8080

# Optional Stripe settings (enable payments/checkout if provided)
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
# Where to redirect users after successful/canceled checkout (used by WebView success detection)
STRIPE_SUCCESS_URL=https://example.com/checkout/success
STRIPE_CANCEL_URL=https://example.com/checkout/cancel

# SMTP (envío de correos)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=usuario@example.com
SMTP_PASS=clave_segura
SMTP_FROM=Soporte EMA <no-reply@example.com>
